<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qui est le Patron? - Prototype</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ Qui est le Patron?</h1>
            <p class="tagline">Tu peux tout perdre √† vouloir tout faire tourner.</p>
        </header>

        <div id="setup-screen" class="screen">
            <h2>Configuration de la partie</h2>
            <div class="setup-form">
                <label for="player-count">Nombre de joueurs (2-6):</label>
                <input type="number" id="player-count" min="2" max="6" value="2">
                <button id="start-game" class="btn-primary">D√©marrer la partie</button>
            </div>
            <div class="simulation-section">
                <h3>Simulation IA</h3>
                <p>Lancer une simulation de matchs avec 4 joueurs IA</p>
                <button id="open-simulation" class="btn-secondary">Lancer une simulation</button>
            </div>
        </div>

        <!-- Simulation Modal -->
        <div id="simulation-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Simulation de matchs IA</h2>
                <p>Cette simulation va lancer plusieurs matchs avec 4 joueurs IA et g√©n√©rer un fichier CSV avec toutes les donn√©es.</p>
                <div class="modal-form">
                    <label for="num-matches">Nombre de matchs √† simuler:</label>
                    <input type="number" id="num-matches" min="1" max="1000" value="10">
                    <div class="modal-buttons">
                        <button id="start-simulation" class="btn-primary">D√©marrer</button>
                        <button id="cancel-simulation" class="btn-secondary">Annuler</button>
                    </div>
                    <div id="simulation-status" class="simulation-status hidden">
                        <p id="simulation-message">Simulation en cours...</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="game-screen" class="screen hidden">
            <div class="game-info">
                <div class="turn-info">
                    <h2>Tour <span id="turn-number">1</span> - Phase <span id="phase-name">1: Production</span></h2>
                </div>
                <div class="market-info">
                    <h3>March√© du tour</h3>
                    <p>Taille: <span id="market-size">-</span> unit√©s</p>
                </div>
            </div>

            <div class="players-container" id="players-container">
                <!-- Players will be dynamically added here -->
            </div>

            <div class="actions-panel">
                <div id="phase1-actions" class="phase-actions">
                    <h3>Phase 1: D√©penses & Production</h3>
                    <div class="player-selector">
                        <label>Joueur actuel:</label>
                        <select id="current-player-select"></select>
                    </div>
                    <div class="action-buttons">
                        <button onclick="game.hireEmployee()" class="btn">Recruter Employ√© (-2)</button>
                        <button onclick="game.buyMachine()" class="btn">Acheter Machine (-20)</button>
                        <button onclick="game.fireEmployee()" class="btn">Licencier Employ√©</button>
                        <button onclick="game.sellMachine()" class="btn">Vendre Machine (+10)</button>
                        <button onclick="game.investRD()" class="btn">Investir R&D (-5, +1‚≠ê)</button>
                        <button onclick="game.investMarketing()" class="btn">Marketing (-3, +1‚≠ê temp)</button>
                        <button onclick="game.investSalary()" class="btn">Augmenter Salaires (-1/employ√©, +1‚≠ê temp)</button>
                    </div>
                    <button onclick="game.endPhase1()" class="btn-primary">Terminer Phase 1</button>
                </div>

                <div id="phase2-actions" class="phase-actions hidden">
                    <h3>Phase 2: March√©</h3>
                    <p>Le march√© est calcul√© automatiquement selon la r√©putation de chaque joueur.</p>
                    <button onclick="game.processMarket()" class="btn-primary">Calculer le March√©</button>
                </div>

                <div id="phase3-actions" class="phase-actions hidden">
                    <h3>Phase 3: Imp√¥ts</h3>
                    <p>Les imp√¥ts sont calcul√©s automatiquement.</p>
                    <button onclick="game.processTaxes()" class="btn-primary">Payer les Imp√¥ts</button>
                </div>

                <div id="phase4-actions" class="phase-actions hidden">
                    <h3>Phase 4: √âv√©nement</h3>
                    <div id="event-display">
                        <p id="event-text"></p>
                    </div>
                    <button onclick="game.processEvent()" class="btn-primary">Tirer un √âv√©nement</button>
                    <button onclick="game.nextTurn()" class="btn-primary hidden" id="next-turn-btn">Tour Suivant</button>
                </div>
            </div>

            <div class="log-panel">
                <h3>Journal du jeu</h3>
                <div id="game-log"></div>
            </div>
        </div>

        <div id="victory-screen" class="screen hidden">
            <h2>üèÜ Victoire!</h2>
            <p id="victory-message"></p>
            <button onclick="location.reload()" class="btn-primary">Nouvelle Partie</button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
